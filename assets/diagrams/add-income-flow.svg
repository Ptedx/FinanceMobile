<svg xmlns="http://www.w3.org/2000/svg" width="960" height="420" viewBox="0 0 960 420">
  <defs>
    <style>
      .bg{fill:#f9fafb}
      .box{fill:#fff;stroke:#1f2937;stroke-width:1.5;rx:8}
      .title{font:700 14px ui-sans-serif,system-ui,sans-serif;fill:#111827}
      .edge{stroke:#6b7280;stroke-width:1.5;marker-end:url(#a)}
    </style>
    <marker id="a" markerWidth="10" markerHeight="10" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L6,3 z" fill="#6b7280"/>
    </marker>
  </defs>
  <rect class="bg" width="960" height="420"/>
  <g transform="translate(40,40)">
    <rect class="box" width="190" height="48"/>
    <text class="title" x="12" y="30">AddIncome form</text>
  </g>
  <g transform="translate(260,40)">
    <rect class="box" width="180" height="48"/>
    <text class="title" x="12" y="30">db.addIncome</text>
  </g>
  <g transform="translate(470,40)">
    <rect class="box" width="240" height="48"/>
    <text class="title" x="12" y="30">store.incomes += novo</text>
  </g>

  <g transform="translate(260,140)">
    <rect class="box" width="300" height="48"/>
    <text class="title" x="12" y="30">Tem goalAllocations?</text>
  </g>
  <g transform="translate(260,220)">
    <rect class="box" width="300" height="48"/>
    <text class="title" x="12" y="30">Itera alocações</text>
  </g>
  <g transform="translate(600,220)">
    <rect class="box" width="300" height="48"/>
    <text class="title" x="12" y="30">Se goal.save e não concluída</text>
  </g>
  <g transform="translate(600,300)">
    <rect class="box" width="300" height="48"/>
    <text class="title" x="12" y="30">db.updateGoal(current+alloc capped)</text>
  </g>

  <line class="edge" x1="230" y1="64" x2="260" y2="64"/>
  <line class="edge" x1="440" y1="64" x2="470" y2="64"/>
  <path class="edge" d="M590 88 L 410 140"/>
  <line class="edge" x1="410" y1="188" x2="410" y2="220"/>
  <line class="edge" x1="560" y1="244" x2="600" y2="244"/>
  <line class="edge" x1="750" y1="268" x2="750" y2="300"/>
</svg>


